try {
    const { number } = req.query;

    if (!number)
      return res.status(400).json({
        success: false,
        message: "Missing 'number' parameter. Example: /api?number=7676162652",
        note: "join @backuphaiyaarh",
      });

    const apiUrl = `https://yahu.site/api/?number=${encodeURIComponent(
      number
    )}&key=The_ajay`;

    const response = await fetch(apiUrl);
    const text = await response.text();

    // Remove unwanted credits & replace names
    const cleanedText = text
      .replace(/credit\s*:\s*the_ajay/gi, "")
      .replace(/"credit"\s*:\s*".*?"/gi, "")
      .replace(/the_ajays1/gi, "@b0tf4ther")
      .replace(/the_ajay/gi, "@b0tf4ther")
      .trim();

    let data;
    try {
      data = JSON.parse(cleanedText);
    } catch {
      data = { raw: cleanedText };
    }

    return res.status(200).json({
      success: true,
      source: "@b0tf4ther",
      data,
      note: "join @backuphaiyaarh",
    });

  } catch (error) {
    res.status(500).json({
      success: false,
      message: "Server error occurred.",
      error: error.message,
      note: "join @backuphaiyaarh",
    });
  }
      }
